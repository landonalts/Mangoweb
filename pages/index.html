<!doctype html>
<html>
<head><meta charset="utf-8"><title>My Proxy</title></head>
<body style="font-family:sans-serif;padding:40px">
  <h1>My Proxy â€” demo</h1>
  <form id="f">
    <input id="url" placeholder="https://example.com" style="width:60%;padding:8px">
    <button>Go</button>
  </form>
  <script>
    document.getElementById('f').addEventListener('submit', e => {
      e.preventDefault();
      const v = document.getElementById('url').value;
      try {
        const u = new URL(v).toString();
        const enc = btoa(u);
        window.location = '/api/proxy?u=' + enc;
      } catch(e) { alert('Type a valid URL including https://'); }
    });
  </script>
</body>
</html>
